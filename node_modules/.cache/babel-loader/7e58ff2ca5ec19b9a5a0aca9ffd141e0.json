{"ast":null,"code":"import _slicedToArray from\"/Users/marcoshia/Documents/GitHub/CounterApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useState,useEffect}from\"react\";import{initializeApp}from\"@firebase/app\";import{getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged}from\"firebase/auth\";import{div}from\"prelude-ls\";import FirebaseService from\"../service/FirebaseService\";import{firebaseConfig}from\"../service/FirebaseService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),emailError=_useState8[0],setEmailError=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),passwordError=_useState10[0],setPasswordError=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),userSession=_useState12[0],hasUserSession=_useState12[1];var firebaseApp=initializeApp(firebaseConfig);var auth=getAuth();var handleLogin=function handleLogin(){setEmailError(\"\");setPasswordError(\"\");signInWithEmailAndPassword(auth,email,password).then(function(userCredential){window.location.href=\"/home\";}).catch(function(err){switch(err.code){case\"auth/invalid-email\":setEmailError(\"Invalid Email\");break;case\"auth/user-disabled\":setEmailError(\"User Disabled\");break;case\"auth/user-not-found\":setEmailError(\"User not Found\");break;case\"auth/wrong-password\":setPasswordError(\"Wrong Password\");break;}});};useEffect(function(){onAuthStateChanged(auth,function(user){if(user){var uid=user.uid;window.location.href=\"/home\";// ...\n}});});return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputPassword1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"p\",{style:{\"color\":'red'},children:emailError}),/*#__PURE__*/_jsx(\"p\",{style:{\"color\":'red'},children:passwordError}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handleLogin,children:\"Login\"})]})});};export default Login;","map":{"version":3,"sources":["/Users/marcoshia/Documents/GitHub/CounterApp/src/components/Login.js"],"names":["React","useCallback","useState","useEffect","initializeApp","getAuth","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","div","FirebaseService","firebaseConfig","Login","user","setUser","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","userSession","hasUserSession","firebaseApp","auth","handleLogin","then","userCredential","window","location","href","catch","err","code","uid","e","target","value"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useEffect } from \"react\";\nimport { initializeApp } from \"@firebase/app\";\nimport { getAuth, createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged } from \"firebase/auth\";\nimport { div } from \"prelude-ls\";\nimport FirebaseService from \"../service/FirebaseService\";\nimport { firebaseConfig } from \"../service/FirebaseService\";\n\nconst Login = () => {\n  const [user, setUser] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [userSession, hasUserSession] = useState(false);\n\n  const firebaseApp = initializeApp(firebaseConfig);\n  const auth = getAuth();\n\n\n  const handleLogin = () => {\n      setEmailError(\"\")\n      setPasswordError(\"\")\n      signInWithEmailAndPassword(auth,email, password)\n      .then((userCredential) => {\n        window.location.href=\"/home\"\n      })\n      .catch((err) => {\n        switch (err.code) {\n          case \"auth/invalid-email\":\n            setEmailError(\"Invalid Email\");\n            break;\n          case \"auth/user-disabled\":\n            setEmailError(\"User Disabled\");\n            break;\n          case \"auth/user-not-found\":\n            setEmailError(\"User not Found\");\n            break;\n          case \"auth/wrong-password\":\n            setPasswordError(\"Wrong Password\");\n            break;\n        }\n      });\n  };\n\n  useEffect(() => {\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const uid = user.uid;\n        window.location.href =\"/home\"\n        // ...\n      }\n    });\n  });\n\n\n  return (\n    <div className=\"card\">\n      <form>\n        <div className=\"form-group\">\n          <label for=\"exampleInputEmail1\">Email address</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"exampleInputEmail1\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label for=\"exampleInputPassword1\">Password</label>\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            id=\"exampleInputPassword1\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <p style={{\"color\":'red'}}>{emailError}</p>\n        <p style={{\"color\":'red'}}>{passwordError}</p>\n        <button\n          type=\"button\"\n          className=\"btn btn-primary\"\n          onClick={handleLogin}\n        >\n          Login\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}